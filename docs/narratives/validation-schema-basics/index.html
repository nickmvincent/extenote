<!DOCTYPE html><html lang="en" data-mode="dark" data-aesthetic="classic"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Schema Validation Basics | Extenote</title><meta name="description" content="Extenote documentation: Schema Validation Basics"><meta property="og:type" content="website"><meta property="og:url" content="https://extenote.dev"><meta property="og:title" content="Schema Validation Basics | Extenote"><meta property="og:description" content="Extenote documentation: Schema Validation Basics"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Schema Validation Basics | Extenote"><meta name="twitter:description" content="Extenote documentation: Schema Validation Basics"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=JetBrains+Mono:wght@400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet"><script>
      // Load theme preferences before render to prevent flash
      (function() {
        const mode = localStorage.getItem('theme-mode') || 'dark';
        const aesthetic = localStorage.getItem('theme-aesthetic') || 'classic';
        document.documentElement.setAttribute('data-mode', mode);
        document.documentElement.setAttribute('data-aesthetic', aesthetic);
      })();
    </script><link rel="stylesheet" href="/extenote/_astro/_slug_.Cf4BF75M.css">
<link rel="stylesheet" href="/extenote/_astro/_slug_.COSOcpGJ.css"><script type="module" src="/extenote/_astro/hoisted.BEvs-6yx.js"></script></head> <body>   <header class="top-nav"> <div class="brand"> <a href="/extenote">Extenote</a> </div> <div class="nav-ornament"></div> <nav class="nav-links"> <a href="/extenote">home</a> <span class="nav-dot"></span> <a href="/extenote/docs" aria-current="page">docs</a> <span class="nav-dot"></span> <a href="https://github.com/nickmvincent/extenote" target="_blank">github</a> </nav> </header> <div class="docs-layout" data-astro-cid-uadgga6g> <aside class="sidebar" data-astro-cid-uadgga6g> <div class="sidebar-section" data-astro-cid-uadgga6g> <div class="sidebar-title" data-astro-cid-uadgga6g>Getting Started</div> <nav class="sidebar-links" data-astro-cid-uadgga6g> <a href="/extenote/docs/index" class="sidebar-link " data-astro-cid-uadgga6g> Extenote Documentation </a><a href="/extenote/docs/quickstart" class="sidebar-link " data-astro-cid-uadgga6g> Quick Start </a> </nav> </div> <div class="sidebar-section" data-astro-cid-uadgga6g> <div class="sidebar-title" data-astro-cid-uadgga6g>Reference</div> <nav class="sidebar-links" data-astro-cid-uadgga6g> <a href="/extenote/docs/cli" class="sidebar-link " data-astro-cid-uadgga6g> CLI Reference </a><a href="/extenote/docs/configuration" class="sidebar-link " data-astro-cid-uadgga6g> Configuration Reference </a><a href="/extenote/docs/architecture" class="sidebar-link " data-astro-cid-uadgga6g> Architecture Overview </a><a href="/extenote/docs/interfaces" class="sidebar-link " data-astro-cid-uadgga6g> Interface Comparison </a> </nav> </div> <div class="sidebar-section" data-astro-cid-uadgga6g> <div class="sidebar-title" data-astro-cid-uadgga6g>Features</div> <nav class="sidebar-links" data-astro-cid-uadgga6g> <a href="/extenote/docs/web-ui" class="sidebar-link " data-astro-cid-uadgga6g> Web UI Gallery </a><a href="/extenote/docs/tags" class="sidebar-link " data-astro-cid-uadgga6g> Tags </a><a href="/extenote/docs/reference-check" class="sidebar-link " data-astro-cid-uadgga6g> Refcheck </a> </nav> </div> <div class="sidebar-section" data-astro-cid-uadgga6g> <div class="sidebar-title" data-astro-cid-uadgga6g>Other</div> <nav class="sidebar-links" data-astro-cid-uadgga6g> <a href="/extenote/docs/testing" class="sidebar-link " data-astro-cid-uadgga6g> Manual Testing Guide </a><a href="/extenote/docs/cross-project-linking" class="sidebar-link " data-astro-cid-uadgga6g> Cross-Project Linking </a><a href="/extenote/docs/known-issues" class="sidebar-link " data-astro-cid-uadgga6g> Known Issues </a> </nav> </div> </aside> <main class="content" data-astro-cid-uadgga6g> <a href="/extenote/docs" class="back-link" data-astro-cid-uadgga6g>← All Docs</a> <h1 id="schema-validation-basics">Schema Validation Basics</h1>
<p>Learn how Extenote validates objects against their schemas. Every markdown file must declare a type that matches a defined schema, and required fields must be present.</p>
<p>Validation failures are recorded as issues and appear in the CLI <code>extenote issues</code> output and the Web UI Issues view.</p>
<h2 id="step-1-flags-missing-required-fields">Step 1: flags missing required fields</h2>
<p>Schemas can mark fields as required. If a required field is missing from the frontmatter, validation fails with an error. In this example, the schema requires a “title” field.</p>
<p><strong>Test:</strong> <code>flags missing required fields</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:65</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"flags missing required fields"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { type: </span><span style="color:#9ECBFF">"demo_note"</span><span style="color:#E1E4E8">, tags: [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">toBeGreaterThan</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Missing required field"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-2-flags-unknown-schema">Step 2: flags unknown schema</h2>
<p>Each object must have a type that matches a known schema. If the type in frontmatter doesn’t match any schema definition, validation fails with an error.</p>
<p><strong>Test:</strong> <code>flags unknown schema</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:97</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"flags unknown schema"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      type: </span><span style="color:#9ECBFF">"unknown_type"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { type: </span><span style="color:#9ECBFF">"unknown_type"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Unknown schema"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].severity).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"error"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-3-validates-string-type">Step 3: validates string type</h2>
<p>String fields must contain text values. Numbers, booleans, or other types in a string field will be rejected.</p>
<p><strong>Test:</strong> <code>validates string type</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:113</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates string type"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#79B8FF">123</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> } </span><span style="color:#6A737D">// title should be string</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "title"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be string"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-4-validates-number-type">Step 4: validates number type</h2>
<p>Number fields require numeric values. Strings containing digits (like “42”) are not automatically converted - they must be actual numbers.</p>
<p><strong>Test:</strong> <code>validates number type</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:127</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates number type"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, count: </span><span style="color:#9ECBFF">"not a number"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "count"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be number"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-5-validates-boolean-type">Step 5: validates boolean type</h2>
<p>Boolean fields must be true or false. Strings like “yes”, “no”, or “true” are not accepted - YAML will parse unquoted true/false as booleans.</p>
<p><strong>Test:</strong> <code>validates boolean type</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:141</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates boolean type"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, published: </span><span style="color:#9ECBFF">"yes"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "published"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be boolean"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-6-validates-date-type-with-valid-iso-string">Step 6: validates date type with valid ISO string</h2>
<p>Date fields accept ISO 8601 format strings (like “2024-01-15”) and Date objects parsed from YAML. The date must include at least a 4-digit year.</p>
<p><strong>Test:</strong> <code>validates date type with valid ISO string</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:155</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates date type with valid ISO string"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, createdAt: </span><span style="color:#9ECBFF">"2024-01-15T10:30:00Z"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "createdAt"</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-7-validates-date-type-rejects-invalid-date-string">Step 7: validates date type rejects invalid date string</h2>
<p>Random strings that don’t look like dates are rejected.</p>
<p><strong>Test:</strong> <code>validates date type rejects invalid date string</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:169</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates date type rejects invalid date string"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, createdAt: </span><span style="color:#9ECBFF">"not-a-date"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "createdAt"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be date"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-8-validates-date-type-rejects-month-name-without-year">Step 8: validates date type rejects month name without year</h2>
<p>Month names alone (like “March”) are rejected because they lack a year. This prevents JavaScript’s Date.parse() from accepting ambiguous formats.</p>
<p><strong>Test:</strong> <code>validates date type rejects month name without year</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:183</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates date type rejects month name without year"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, createdAt: </span><span style="color:#9ECBFF">"March"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "createdAt"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be date"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-9-validates-date-type-accepts-year-only-string">Step 9: validates date type accepts year-only string</h2>
<p>Year-only strings like “2024” are valid - common for academic citations where only the publication year is known.</p>
<p><strong>Test:</strong> <code>validates date type accepts year-only string</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:197</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates date type accepts year-only string"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, createdAt: </span><span style="color:#9ECBFF">"2024"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "createdAt"</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-10-validates-array-type">Step 10: validates array type</h2>
<p>Array fields must be actual arrays (using YAML list syntax). A single string value won’t be automatically wrapped in an array.</p>
<p><strong>Test:</strong> <code>validates array type</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:229</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates array type"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, tags: </span><span style="color:#9ECBFF">"not-an-array"</span><span style="color:#E1E4E8">, visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "tags"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be array"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<h2 id="step-11-validates-array-item-types">Step 11: validates array item types</h2>
<p>Arrays can have typed items. If the schema specifies items: string, each element must be a string. An array of numbers in a string array field fails.</p>
<p><strong>Test:</strong> <code>validates array item types</code>
<strong>File:</strong> <code>packages/core/tests/validation.test.ts:243</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#B392F0">it</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"validates array item types"</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> object</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> buildObject</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      frontmatter: { title: </span><span style="color:#9ECBFF">"Test"</span><span style="color:#E1E4E8">, tags: [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">], visibility: </span><span style="color:#9ECBFF">"private"</span><span style="color:#E1E4E8"> } </span><span style="color:#6A737D">// items should be strings</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> results</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> validateObjects</span><span style="color:#E1E4E8">([object], config, [schema]);</span></span>
<span class="line"><span style="color:#B392F0">    expect</span><span style="color:#E1E4E8">(results[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].issues.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">i</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> i.field </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "tags"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> i.message.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"should be array"</span><span style="color:#E1E4E8">))).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span></code></pre>
<hr>
<p><em>This documentation is generated from test annotations. Edit the source test file to update.</em></p> </main> </div> <footer class="site-footer" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>Extenote is open source software. Built for researchers, writers, and content creators.</p> </div> <div class="theme-controls" data-astro-cid-sz7xmlte> <div class="theme-toggle" data-astro-cid-sz7xmlte> <span class="toggle-label" data-astro-cid-sz7xmlte>Mode:</span> <button class="toggle-btn" data-mode="light" id="mode-light" data-astro-cid-sz7xmlte>Light</button> <button class="toggle-btn" data-mode="dark" id="mode-dark" data-astro-cid-sz7xmlte>Dark</button> </div> <div class="theme-toggle" data-astro-cid-sz7xmlte> <span class="toggle-label" data-astro-cid-sz7xmlte>Style:</span> <button class="toggle-btn" data-aesthetic="classic" id="aesthetic-classic" data-astro-cid-sz7xmlte>Classic</button> <button class="toggle-btn" data-aesthetic="futuristic" id="aesthetic-futuristic" data-astro-cid-sz7xmlte>Cyber</button> </div> </div> </footer>    <div class="lightbox" id="lightbox" data-astro-cid-uadgga6g> <button class="lightbox-close" aria-label="Close" data-astro-cid-uadgga6g>&times;</button> <img src="" alt="" id="lightbox-img" data-astro-cid-uadgga6g> <div class="lightbox-hint" data-astro-cid-uadgga6g>Click anywhere or press Escape to close</div> </div>   </body></html>